/////////////////////////////////////////////////////////////////
// MODULE DEPENDENCIES //////////////////////////////////////////
/////////////////////////////////////////////////////////////////
var passport      = require('passport');
var bodyParser    = require('body-parser');
var mongoose      = require('mongoose');
var User          = mongoose.model('User');
var LocalStrategy = require('passport-local').Strategy;

/////////////////////////////////////////////////////////////////
// AUTHENTIFICATION STRATEGY ////////////////////////////////////
/////////////////////////////////////////////////////////////////
module.exports = function(app) {
  'use strict';
  ///////////////////////////////////////////////////////////////
  // USE PASSPORT SESSION ///////////////////////////////////////
  ///////////////////////////////////////////////////////////////
  app.use(passport.initialize());
  passport.use(User.createStrategy());
};
