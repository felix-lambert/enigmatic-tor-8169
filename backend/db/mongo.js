/////////////////////////////////////////////////////////////////
// MODULE DEPENDENCIES //////////////////////////////////////////
/////////////////////////////////////////////////////////////////
var mongoose = require('mongoose');
var config   = require('./database');
var ee       = require('../config/event');

var mongoOptions = {
    db: {
        safe: true
    }
};

/////////////////////////////////////////////////////////////////
// CONNECT TO DATABASE //////////////////////////////////////////
/////////////////////////////////////////////////////////////////
module.exports = mongoose.connect(config.db, mongoOptions, function(err, res) {
  if (err) {
    ee.emit('error', err);
    console.log('ERROR connecting to: ' + config.db + '. ' + err);
  } else {
    console.log('Successfully connected to: ' + config.db);
  }
});
