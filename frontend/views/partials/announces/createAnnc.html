<div header></div>
<div class="home-page main" ng-init="initListCreateAnnounce(currentUser._id)">
  <section class="grid-wrap" >
    <div class="grid col-one-half mq2-col-full">
      <p class="warning">Publiez votre service</p>
      <form id="contact_form" class="contact_form" name="form" ng-submit="create()" autocomplete="off" novalidate>
        <header id="navtop">
          <nav class="fleft">
            <ul>
              <li>
                <label class="control-label" for="title">Demande</label>
                <select name="demande" ng-model="type">
                  <option>Offre</option>
                  <option>Recherche</option>
                </select>
              </li>
            </ul>
            <ul>
              <li>
                <label class="control-label" for="title">Catégories</label>
                <select ng-init="getCategories()" ng-model="category">
                  <option></option>
                  <option></option>
                </select>
              </li>
            </ul>
            <ul>
              <li>
                <input type="text" ng-model="title" class="form-input mwf" id="title" placeholder="Intitulé du service" required="" class="form-input">
              </li>
            </ul>
            <ul>
              <li>
                <label for="price">Nombre d'heures</label>
                <input type="number" ng-model="price" placeholder="Nombre d'heures" required/>
              </li>
            </ul>
            <ul>
              <li>
                <textarea id="title" ng-model="content" id="content" rows="1" placeholder="Description"></textarea>
              </li>
            </ul>
            <ul>
              <li>
                <button type="submit">Valider</button>
              </li>
            </ul>
          </nav>
        </header>
      </form>
    </div>
    
    
    <div class="grid col-one-half mq2-col-full">
      <p class="warning">Liste de vos services</p>
              <header id="navtop">
          <nav class="fright my-controller">
          <ul >
              <li>
                <input type="text" ng-model="searchString" placeholder="Rechercher" />
              </li>
              <li>
                <input type="number" min="1" max="100" ng-model="pageSize">
              </li>

          </ul>
          <ul >
            <li>
                <p>Page: {{ currentPage }}</p>
              </li>

          </ul>
          <ul >

          </ul>
          </nav>
        </header>
      
      <table class="table">
        <tr>
          <th class="xsmall_hidden">Demande</th>
          <th>Service</th>
          <th>Actions</th>
        </tr>
        <tr dir-paginate="announce in announces | searchFor:searchString | itemsPerPage: pageSize" current-page="currentPage">
          <td ng-if="currentUser._id == announce.creator || 
          currentUser._id === announce.creatorUsername" class="xsmall_hide">
            {{announce.type}}
          </td>
          <td ng-if="currentUser._id == announce.creator || 
          currentUser._id === announce.creatorUsername">
            {{announce.title}}
          </td>
          <td ng-if="currentUser._id == announce.creator || 
          currentUser._id === announce.creatorUsername">
            <div class="btn-group">
              <a class="btn btn-default" href="/announces/{{announce._id}}">Voir</a>
            </div>
            <div class="btn-group" ng-if="announce.activated === true">
              <a class="btn btn-warning" ng-click="desactivate(announce._id)">Désactiver</a>
            </div>
            <div class="btn-group" ng-if="announce.activated === false">
              <a class="btn btn-success" ng-click="activate(announce._id)">Activer</a>
            </div>
            <div class="btn-group">
              <a class="btn btn-danger" ng-click="remove(announce)">Supprimer</a>
            </div>
          </td>
        </tr>
      </table>
      <div ng-controller="PaginationController" class="other-controller">
        <div class="text-center">
          <dir-pagination-controls boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="views/templates/dirPaginationTemplate.html"></dir-pagination-controls>
        </div>
      </div>
    </div>
  </section>
</div>
<toaster-container toaster-options="{'time-out': 3000, 'close-button':true, 'animation-class': 'toast-top-right'}"></toaster-container>
<div class="blog-page main grid-wrap">
  <section  class="grid col-three-quarters mq2-col-two-thirds mq3-col-full">
    
  </section>
  <aside ng-init="findFromUser(currentUser._id)" class="grid col-one-quarter mq2-col-one-second mq3-col-full blog-sidebar">
    <div class="widget">
    </div>
  </aside>
</div>