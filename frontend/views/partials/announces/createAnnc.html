<toaster-container toaster-options="{'time-out': 3000, 'close-button':true, 'animation-class': 'toast-top-right'}"></toaster-container>
<div class="row">
  <section class="newService">
    <div class="col-md-6">
      <div class="panel-group" id="accordion">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h4 class="panel-title">
            <span class="glyphicon glyphicon-file"></span>
            Publier un service
            </h4>
          </div>
          <form ng-submit="createAnnounce.create()">
            <div id="collapseOne" class="panel-collapse collapse in">
              <div class="panel-body">
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="title">Demande</label>
                      <select name="demande" ng-model="createAnnounce.type" class="form-control">
                        <option>Offre</option>
                        <option>Recherche</option>
                      </select>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="price">Nombre d'heures</label>
                      <input type="number" ng-model="createAnnounce.price" class="form-control" placeholder="Prix" required/>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12">
                    <div class="form-group">
                      <input type="text" ng-model="createAnnounce.title" class="form-control" placeholder="Titre" required />
                    </div>
                    <div class="form-group">
                      <textarea ng-model="createAnnounce.content" class="form-control" placeholder="Description" rows="5" required></textarea>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="category">
                      Category</label>
                      <select ng-model="createAnnounce.category" class="form-control">
                        <optgroup label="Réparations">
                          <option>Appareils</option>
                          <option>Meubles</option>
                          <option>Vêtements</option>
                        </optgroup>
                        <optgroup label="Echanges de savoirs">
                          <option>Informatique</option>
                          <option>Musique</option>
                          <option>Cours de langue</option>
                          <option>Photographie</option>
                          <option>Production vidéo</option>
                        </optgroup>
                        <option>Transport</option>
                        <option>Garde d'enfants</option>
                        <option>Ménage</option>
                        <option>Bricolage</option>
                        <option>Peinture</option>
                        <option>Jardinage</option>
                        <option>Expertise comptable</option>
                        <optgroup label="Services de restauration">
                          <option>Préparation de plats cuisiniers</option>
                          <option>Aide pour la mise en place d'un festin</option>
                        </optgroup>
                        <option>Encadrement des activités sportives</option>
                        <option>Soins médicaux</option>
                        <option>Coupe de cheveux</option>
                        <option>Manucure</option>
                      </select>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <label for="tags">
                      Talents</label>
                      <div auto-complete url="/search" ng-model="createAnnounce.tags" model="createAnnounce.data.tags"></div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-success btn-sm">
                <span class="glyphicon glyphicon-floppy-disk"></span>Valider</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div ng-init="createAnnounce.initListCreateAnnounce(currentUser._id)" class="col-md-6">
      <h2>Liste de vos services</h2>
      <input class="form-input" type="text" ng-model="searchString" placeholder="Rechercher" />
      <table class="table">
        <tr>
          <th class="xsmall_hidden">Demande</th>
          <th>Service</th>
          <th>Actions</th>
        </tr>
        <tr ng-repeat="announce in createAnnounce.announces | searchFor:searchString">
          {{announce}}
          <td ng-if="currentUser._id === announce.creator">
            {{announce.type}}
          </td>
          <td ng-if="currentUser._id === announce.creator">
            {{announce.title}}
          </td>
          <td ng-if="currentUser._id === announce.creator">
            <div class="btn-group">
              <a class="btn btn-default" href="/announces/{{announce._id}}">Voir</a>
            </div>
            <div  class="btn-group">
              <a ng-if="announce.activated === true" class="btn btn-warning" ng-click="createAnnounce.desactivate(announce)">Désactiver</a>
              <a ng-if="announce.activated === false" class="btn btn-success" ng-click="createAnnounce.activate(announce)">Activer</a>
            </div>
            <div class="btn-group">
              <a class="btn btn-danger" ng-click="createAnnounce.remove(announce)">Supprimer</a>
            </div>
          </td>
        </tr>
      </table>
    <pagination total-items="createAnnounce.bigTotalItems" ng-change="createAnnounce.pageChanged(createAnnounce.bigCurrentPage)" ng-model="createAnnounce.bigCurrentPage" max-size="createAnnounce.maxSize" class="pagination-sm" boundary-links="true" rotate="false" num-pages="numPages"></pagination>
  </section>
</div>